\section{Experiments}

\begin{figure}[t!]
\label{fig:campoverde}
\centering
\includegraphics[scale=0.22]{figs2/CampoVerde.pdf}
\caption{Campo Verde study area.}
\label{fig:labels}
\end{figure}

\begin{figure}[t!]
\label{fig:hanover}
\centering
\includegraphics[scale=0.18]{figs2/Hanover.pdf}
\caption{Hanover study area.}
\label{fig:labels}
\end{figure}
\subsection{Datasets}

Agricultural behaviour can greatly vary in different regions. Because of this, two areas with very different weather conditions were studied: First one is located in the surroundings of Hanover city, in Germany (Figure \ref{fig:hanover}). It has an extension of 1728 km2 and consists of a sequence of 24 pre-processed, dual-polarized Sentinel-1 SAR images taken from from October 2014 to October 2016 in a monthly basis. Because this is a temperate region, each parcel belongs to the same class throughout the entire year. Most common crop types are Sugarcane, Soybean and Maize \cite{bargiel2017new}.

Second area is located in Campo Verde municipality from the state of Mato Grosso, Brazil with an extension of 4782km2 (Figure \ref{fig:campoverde}). It consists of a sequence of 14 pre-processed, dual-polarized SAR images taken from Sentinel-1 between October 2015 and July 2016. Main classes are soybean, maize and cotton. This area is located in a tropical environment, making its multi-temporal behavior highly dynamic and challenging \cite{sanches2018campo}.






\subsection{Experimental Protocol}

In order to assess the influence of multi-temporal information for crop recognition, the last image from a given sequence was classified using past information from all the sequence images.

In each of the studied areas, 50\% of the labeled data was used for training and the remaining 50\% for testing. Standard normalization was applied to the input images. In the case of Campo Verde database, two main sequences were separately studied due to their differences in crop distribution: Sequence 1 consists of images taken from October 2015 to February 2016, where the main crop type is \textit{Soybean}. Sequence 2 happens between March 2016 and July 2016, with \textit{Maize} and \textit{Cotton} being the main crop types. 

For the patch classification networks LSTM-PC and ConvLSTM-PC, the required amount of spatial information differed between the studied areas because of their specific crop parcel sizes. Input dimensions and parameter values were set to different values in each case, as seen in Table \ref{table:convlstm}. In the case of Hanover dataset, max-pooling was not applied due to its small input size. For FCN-PL, patches of size 32 were used as input. The DenseNet architecture was configured with a growth rate of 16 and a dropout of 0.2. In the image stacking model, random forest was trained with 250 trees and a maximum depth of 25.

Data balancing was performed with data augmentation (Rotation; horizontal and vertical flip) from the least represented classes. Training was made with early stopping regularization. Adam optimizer with learning rate of 0.001 was used for the recurrent networks and Adagrad with 0.01 learning rate for FCN-PL.  
\begin{figure}[t!]
\centering
\includegraphics[scale=0.22]{figs2/ClassOccurrencesUnique.eps}
\caption{Class occurences from Campo Verde dataset. First sequence goes from October to February. Second sequence is between March and July.}
\label{fig:labels}
\end{figure}
